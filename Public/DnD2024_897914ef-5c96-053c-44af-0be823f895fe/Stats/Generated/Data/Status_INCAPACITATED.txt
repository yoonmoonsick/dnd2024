new entry "SLEEP"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "SLEEP"
data "StackId" "SLEEP"
data "StatusPropertyFlags" "InitiateCombat;OverheadOnTurn;TickingWithSource"
data "OnTickRoll" "not SavingThrow(Ability.Wisdom, SourceSpellDC())"
data "OnTickSuccess" "ApplyStatus(SLEEP_2,100,9)"
data "OnTickFail" "RemoveStatus(SLEEP)"

new entry "SLEEP_2"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "SLEEP"
data "OnTickRoll" ";"
data "OnTickSuccess" ";"
data "OnTickFail" ";"

new entry "BLINK_VANISH"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "BLINK_VANISH"
data "StatusGroups" "SG_Condition;SG_Invisible"

new entry "ALCH_POTION_REST_SLEEP_GREATER_DND2024"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "ALCH_POTION_REST_SLEEP_GREATER"
data "StackId" "ALCH_POTION_REST_SLEEP_GREATER_DND2024"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.TimeOut)):ApplyStatus(ALCH_POTION_REST_SLEEP_GREATER_RESTORATION_DND2024,100,1)"

new entry "ALCH_POTION_REST_SLEEP_GREATER"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "ALCH_POTION_REST_SLEEP_GREATER"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.TimeOut)):ApplyStatus(ALCH_POTION_REST_SLEEP_GREATER_RESTORATION,100,1);ApplyStatus(ALCH_POTION_REST_SLEEP_GREATER_RESTORATION_DND2024,100,1)"

