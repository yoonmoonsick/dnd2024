Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
// Add Searing Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsTagged(_Player,(TAG)PALADIN_6d85ab2d-5c23-498c-a61e-98f05a00177a,1)
AND
IsSpellActive(_Player, "Target_Smite_Searing", 1)
AND
HasPassive(_Player,"Smite_Searing",0)
THEN
AddPassive(_Player,"Smite_Searing");

// Remove Searing Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Searing", 0)
AND
HasPassive(_Player,"Smite_Searing",1)
THEN
RemovePassive(_Player, "Smite_Searing");

// Add Thunderous Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsTagged(_Player,(TAG)PALADIN_6d85ab2d-5c23-498c-a61e-98f05a00177a,1)
AND
IsSpellActive(_Player, "Target_Smite_Thunderous", 1)
AND
HasPassive(_Player,"Smite_Thunderous",0)
THEN
AddPassive(_Player,"Smite_Thunderous");

// Remove Thunderous Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Thunderous", 0)
AND
HasPassive(_Player,"Smite_Thunderous",1)
THEN
RemovePassive(_Player, "Smite_Thunderous");

// Add Warthful Smite
// - Paladin
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsTagged(_Player,(TAG)PALADIN_6d85ab2d-5c23-498c-a61e-98f05a00177a,1)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 1)
AND
HasPassive(_Player,"Smite_Wrathful",0)
THEN
AddPassive(_Player,"Smite_Wrathful");

// - Ranger
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsTagged(_Player,(TAG)RANGER_37a733c1-a862-4157-b92a-9cff46232c6a,1)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 1)
AND
HasPassive(_Player,"Smite_Wrathful",0)
THEN
AddPassive(_Player,"Smite_Wrathful");

// - Warlock
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsTagged(_Player,(TAG)WARLOCK_5804f55a-93f7-4281-9512-8d548a9e2a22, 1)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 1)
AND
HasPassive(_Player,"Smite_Wrathful",0)
THEN
AddPassive(_Player,"Smite_Wrathful");

// Remove Warthful Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 0)
AND
HasPassive(_Player,"Smite_Wrathful",1)
THEN
RemovePassive(_Player, "Smite_Wrathful");

EXITSECTION

ENDEXITSECTION
