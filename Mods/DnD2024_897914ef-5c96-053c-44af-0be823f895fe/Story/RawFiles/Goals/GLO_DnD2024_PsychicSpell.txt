Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
// Arms of Hadar
IF
StatusApplied(_Character, "PSYCHIC_SPELLS", _Causee, _)
AND
HasSpell((CHARACTER)_Character, "Shout_ArmsOfHadar", 1)
THEN
ApplyStatus(_Character, "PSYCHIC_SPELL_ARMS_OF_HADAR", -1.0, 1);

// Witch Bolt
IF
StatusApplied(_Character, "PSYCHIC_SPELLS", _Causee, _)
AND
HasSpell((CHARACTER)_Character, "Projectile_WitchBolt", 1)
THEN
ApplyStatus(_Character, "PSYCHIC_SPELL_WITCH_BOLT", -1.0, 1);

// Telekinetic Crush
IF
StatusApplied(_Character, "PSYCHIC_SPELLS", _Causee, _)
AND
HasSpell((CHARACTER)_Character, "Target_VampiricTouch", 1)
THEN
ApplyStatus(_Character, "PSYCHIC_SPELL_TELEKINETIC_CRUSH", -1.0, 1);

// Vampiric Touch
IF
StatusApplied(_Character, "PSYCHIC_SPELLS", _Causee, _)
AND
HasSpell((CHARACTER)_Character, "Target_VampiricTouch", 1)
THEN
ApplyStatus(_Character, "PSYCHIC_SPELL_VAMPIRIC_TOUCH", -1.0, 1);

// Blight
IF
StatusApplied(_Character, "PSYCHIC_SPELLS", _Causee, _)
AND
HasSpell((CHARACTER)_Character, "Target_Blight", 1)
THEN
ApplyStatus(_Character, "PSYCHIC_SPELL_BLIGHT", -1.0, 1);

// Remove Psychic Spells
IF
StatusRemoved(_Character, "PSYCHIC_SPELLS", _, _)
THEN
RemoveStatus((GUIDSTRING)_Character, "PSYCHIC_SPELL_ARMS_OF_HADAR");
RemoveStatus((GUIDSTRING)_Character, "PSYCHIC_SPELL_WITCH_BOLT");
RemoveStatus((GUIDSTRING)_Character, "PSYCHIC_SPELL_TELEKINETIC_CRUSH");
RemoveStatus((GUIDSTRING)_Character, "PSYCHIC_SPELL_VAMPIRIC_TOUCH");
RemoveStatus((GUIDSTRING)_Character, "PSYCHIC_SPELL_BLIGHT");
EXITSECTION

ENDEXITSECTION
