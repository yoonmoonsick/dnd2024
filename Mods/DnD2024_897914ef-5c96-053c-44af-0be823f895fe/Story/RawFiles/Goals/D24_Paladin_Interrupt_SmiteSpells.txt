Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
// Add Searing Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Searing", 1)
AND
HasPassive(_Player,"Smite_Searing",0)
THEN
AddPassive(_Player,"Smite_Searing");
AddPassive(_Player,"Smite_Searing_2");
AddPassive(_Player,"Smite_Searing_3");

// Remove Searing Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Searing", 0)
AND
HasPassive(_Player,"Smite_Searing",1)
THEN
RemovePassive(_Player, "Smite_Searing");
RemovePassive(_Player, "Smite_Searing_2");
RemovePassive(_Player, "Smite_Searing_3");


// Add Thunderous Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Thunderous", 1)
AND
HasPassive(_Player,"Smite_Thunderous",0)
THEN
AddPassive(_Player,"Smite_Thunderous");
AddPassive(_Player,"Smite_Thunderous_2");
AddPassive(_Player,"Smite_Thunderous_3");

// Remove Thunderous Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Thunderous", 0)
AND
HasPassive(_Player,"Smite_Thunderous",1)
THEN
RemovePassive(_Player, "Smite_Thunderous");
RemovePassive(_Player, "Smite_Thunderous_2");
RemovePassive(_Player, "Smite_Thunderous_3");


// Add Warthful Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 1)
AND
HasPassive(_Player,"Smite_Wrathful",0)
THEN
AddPassive(_Player,"Smite_Wrathful");
AddPassive(_Player,"Smite_Wrathful_2");
AddPassive(_Player,"Smite_Wrathful_3");

// Remove Warthful Smite
IF
EnteredCombat(_Player, _CombatID)
AND
DB_Players((CHARACTER)_Player)
AND
IsSpellActive(_Player, "Target_Smite_Wrathful", 0)
AND
HasPassive(_Player,"Smite_Wrathful",1)
THEN
RemovePassive(_Player, "Smite_Wrathful");
RemovePassive(_Player, "Smite_Wrathful_2");
RemovePassive(_Player, "Smite_Wrathful_3");
EXITSECTION

ENDEXITSECTION
